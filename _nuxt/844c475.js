(window.webpackJsonp=window.webpackJsonp||[]).push([[15,14],{177:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{headerOverlay:!1,head:{title:"",description:""}}},watch:{headerOverlay:function(e,t){this.$root.$emit("headerOverlay",e)}},mounted:function(){this.$root.$emit("headerOverlay",this.headerOverlay)},head:function(){return{title:this.head.title,meta:[{hid:"description",name:"description",content:this.head.description}]}}},o=r(3),component=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null);t.default=component.exports},183:function(e,t,r){var content=r(198);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(25).default)("5ec24743",content,!0,{sourceMap:!1})},188:function(e){e.exports=JSON.parse('[{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Image 2020-03-20 at 08.58.10.jpeg","filename":"Image 2020-03-20 at 08.58.10.jpeg","type":"image"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Image 2020-03-20 at 08.58.11 (1).jpeg","filename":"Image 2020-03-20 at 08.58.11 (1).jpeg","type":"image"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Image 2020-03-20 at 08.58.11 (2).jpeg","filename":"Image 2020-03-20 at 08.58.11 (2).jpeg","type":"image"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Image 2020-03-20 at 08.58.11.jpeg","filename":"Image 2020-03-20 at 08.58.11.jpeg","type":"image"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Image 2020-03-20 at 08.58.12.jpeg","filename":"Image 2020-03-20 at 08.58.12.jpeg","type":"image"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Video 2020-03-20 at 08.58.31.mp4","filename":"Video 2020-03-20 at 08.58.31.mp4","type":"video"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Video 2020-03-20 at 08.58.50.mp4","filename":"Video 2020-03-20 at 08.58.50.mp4","type":"video"},{"description":"","creator":"Andréa Pontes","creatorLink":"https://www.instagram.com/deia_morales/","license":"CC BY NC SA 4.0","url":"images/deiamorales/Video 2020-03-20 at 08.59.10.mp4","filename":"Video 2020-03-20 at 08.59.10.mp4","type":"video"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Bodião brasileiro","colors":["yellow","blue"],"size":35,"othernames":"Halichoeres brasiliensis","about":"","url":"images/nauther/IMG_1209.JPG","filename":"IMG_1209.JPG","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Casal de raia prego","url":"images/nauther/1562034454874570542648.jpg","filename":"1562034454874570542648.jpg","type":"image"},{"description":"Costuma ficar no fundo de areia e cascalho. É também conhecido como falso voador","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Coió","colors":["white","blue","brown"],"size":45,"othernames":"Dactylopterus volitans","about":"","url":"images/nauther/IMG_0184.JPG","filename":"IMG_0184.JPG","type":"image"},{"description":"Cardume de enxadas","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Enxada","url":"images/nauther/1556498262088345578492.jpg","filename":"1556498262088345578492.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Garoupa verdadeira","colors":["brown","black"],"size":60,"othernames":"Epinephelus marginatus","about":"","url":"images/nauther/IMG_1518.JPG","filename":"IMG_1518.JPG","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Golfinhos","url":"images/nauther/20190626_093259.jpg","filename":"20190626_093259.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Miriquitis Amarela","colors":["yellow","black"],"size":50,"othernames":"Myrichthys ocellatus","about":"/vida/#miriquitis-amarela","url":"images/nauther/Miriquitis-amarela.jpg","filename":"Miriquitis-amarela.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Moréia Banana","colors":["black","yellow"],"size":100,"othernames":"Gymnothorax miliaris","about":"/vida/#moreia-banana","url":"images/nauther/moreia-banana.jpg","filename":"moreia-banana.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Moréia Pintada","colors":["white","black"],"size":60,"othernames":"Gymnothorax moringa","about":"/vida/#moreia-pintada","url":"images/nauther/moreia-pintada.jpg","filename":"moreia-pintada.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Moréia Verde","colors":["green","yellow"],"size":100,"othernames":"Gymnothorax funebris","about":"/vida/#moreia-verde","url":"images/nauther/moreia-verde.jpg","filename":"moreia-verde.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Peixe anjo real","colors":["yellow","blue"],"size":40,"othernames":"Holocanthus ciliares","about":"peixe-anjo-real","url":"images/nauther/peixe-anjo-real.jpg","filename":"peixe-anjo-real.jpg","type":"image"},{"description":"O peixe-frade normalmente habita áreas recifais rasas, e nada em pares.","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Peixe frade","colors":["yellow","blue"],"size":30,"othernames":"Pomacanthus paru","about":"/vida/#peixe-frade","url":"images/nauther/1545605014265-1484188416.jpg","filename":"1545605014265-1484188416.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Peixe frade","url":"images/nauther/IMG_1503.JPG","filename":"IMG_1503.JPG","type":"image"},{"description":"","creator":"Marcelo Migliari","creatorLink":"https://www.instagram.com/marcelomigliari/","license":"CC BY NC SA 4.0","name":"Raia borboleta","colors":["white","black"],"size":80,"othernames":"Gymnura altavela","about":"/vida/#raias","url":"images/marcelomigliari/Image 2020-04-16 at 20.05.43.jpeg","filename":"Image 2020-04-16 at 20.05.43.jpeg","type":"image"},{"description":"","creator":"Marcelo Migliari","creatorLink":"https://www.instagram.com/marcelomigliari/","license":"CC BY NC SA 4.0","name":"Raia borboleta","othernames":"Gymnura altavela","about":"/vida/#raia","url":"images/marcelomigliari/Image 2020-04-16 at 20.05.44.jpeg","filename":"Image 2020-04-16 at 20.05.44.jpeg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Raia chita","url":"images/nauther/1545946134598879623409.jpg","filename":"1545946134598879623409.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Raia chita","colors":["white","grey"],"size":300,"othernames":"","about":"/vida/#raia-chita","url":"images/nauther/15473512064421989571056.jpg","filename":"15473512064421989571056.jpg","type":"image"},{"description":"Duas raias mantas com mergulhadores","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Raia manta","colors":["green","white"],"size":250,"othernames":"Raia jamanta","about":"","url":"images/nauther/1549889531894-1082715277.jpg","filename":"1549889531894-1082715277.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Raia prego","colors":["brown","white"],"size":150,"othernames":"","about":"","url":"images/nauther/1549752089536-353729687.jpg","filename":"1549752089536-353729687.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Salema","colors":["yellow","black","white"],"size":20,"othernames":"Anisotremus virginicus","about":"/vida/#salema","url":"images/nauther/salema.jpg","filename":"salema.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Sargentinho","colors":["white","yellow","black"],"size":15,"othernames":"Abudefduf saxatilis","about":"/vida/#sargentinho","url":"images/nauther/sargentinho.jpg","filename":"sargentinho.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Tartaruga de pente","colors":["yellow","brown","white"],"size":120,"othernames":"","about":"","url":"images/nauther/1552316930246-911010432.jpg","filename":"1552316930246-911010432.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","name":"Tartaruga verde","colors":["green","white"],"size":120,"othernames":"","about":"","url":"images/nauther/1547073690808-2036926563.jpg","filename":"1547073690808-2036926563.jpg","type":"image"},{"description":"","creator":"Nauther Andres","creatorLink":"https://www.instagram.com/nautherandres/","license":"CC BY NC SA 4.0","url":"images/nauther/moreia-proa.jpg","filename":"moreia-proa.jpg","type":"image"}]')},189:function(e,t,r){e.exports=r.p+"img/4be00b5.jpg"},196:function(e,t,r){"use strict";var n=r(188);t.a=n.concat([{creator:"Rafa Tecchio",creatorLink:"https://commons.wikimedia.org/w/index.php?curid=40644070",license:"CC BY-SA 3.0",absoluteurl:r(189),name:"Naufrágio Moréia",type:"image"}])},197:function(e,t,r){"use strict";var n=r(183);r.n(n).a},198:function(e,t,r){(t=r(24)(!1)).push([e.i,".gallery-card[data-v-8a43995c]{display:inline-block;vertical-align:top}.gallery-card .gallery-name[data-v-8a43995c]{font-size:120%;font-weight:700}.gallery-card .gallery-creator[data-v-8a43995c]{font-size:90%;font-style:italic;margin:0}.gallery-card .gallery-description[data-v-8a43995c]{font-size:90%;line-height:1.5em;margin:0}",""]),e.exports=t},205:function(e,t,r){var content=r(259);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(25).default)("826c1852",content,!0,{sourceMap:!1})},218:function(e,t,r){"use strict";var n={props:{name:{type:String,default:"",required:!1},creator:{type:String,required:!0},creatorLink:{type:String,default:void 0,required:!1},license:{type:String,default:void 0,required:!1},url:{type:String,required:!1,default:null},absoluteurl:{type:String,required:!1,default:null},description:{type:String,default:"",required:!1},type:{type:String,required:!0}},computed:{base:function(){return this.$router.options.base}}},o=(r(197),r(3)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card"},[r("figure",["image"==e.type?r("img",{staticClass:"gallery-image",attrs:{src:e.absoluteurl?e.absoluteurl:e.base+e.url}}):e._e(),e._v(" "),"video"==e.type?r("video",{staticClass:"gallery-video",attrs:{controls:"",preload:"metadata"}},[r("source",{attrs:{src:e.absoluteurl?e.absoluteurl:e.base+e.url}})]):e._e(),e._v(" "),r("figcaption",{staticClass:"gallery-name"},[e._v("\n      "+e._s(e.name)+"\n    ")])]),e._v(" "),r("p",{staticClass:"gallery-creator"},[r("i18n",[e._v("foto por")]),e._v(" "),r("a",{attrs:{href:e.creatorLink,target:"_blank"}},[e._v(e._s(e.creator))]),e._v(" "+e._s(e.license)+"\n  ")],1),e._v(" "),r("p",{staticClass:"gallery-description"},[e._v("\n    "+e._s(e.description)+"\n  ")])])}),[],!1,null,"8a43995c",null);t.a=component.exports},258:function(e,t,r){"use strict";var n=r(205);r.n(n).a},259:function(e,t,r){(t=r(24)(!1)).push([e.i,"#ilha-container[data-v-01faa0a2]{width:100%;height:100%}#ilha-container #ocean[data-v-01faa0a2]{position:absolute;height:100%}",""]),e.exports=t},260:function(e,t,r){e.exports={srcSet:r.p+"img/081f57c-360.jpg 360w,"+r.p+"img/25db0e2-640.jpg 640w,"+r.p+"img/afebb22-960.jpg 960w",images:[{path:r.p+"img/081f57c-360.jpg",width:360,height:270},{path:r.p+"img/25db0e2-640.jpg",width:640,height:480},{path:r.p+"img/afebb22-960.jpg",width:960,height:720}],src:r.p+"img/081f57c-360.jpg",toString:function(){return r.p+"img/081f57c-360.jpg"},placeholder:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx4BBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/AABEIAB4AKAMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APmfQnsZpwlyrHceMV9RTs3Zng41VYLmj0O1Njaa1cQpY2UUt0USIRJtTcAMLgADJwBk/WulU4pX3PCWKqUk7tpau7f3lrw/YWOn6kGubEM8RyF2K6lvcHII60pQdvdRtzusnGcnZ9n+pdfw7p7uxi099p6b0BOfXipjHT3jtUn0bMXxZ4KisdGuNStmIMADSqWGACQOBnPUjpWU0t0dEMSlONOW72+RxdppOpWwtjNZyDz4UniKgNuRvunjPXHTrUwaW51TqQrc3I72dn6nZ+BZfI16yd4I5MTAESNtUZ4yT2x1/CuqUW4Ozt5nh11GMryjzLt38j6b8UaBo/iPwsdY0PSbLy7QbZJAgVnG3LAbcfMufxIOO1eDhMdOlW5a0nbqermGXLEYZTwy5ZaNdL+T/rc4fTNKgby3QqEZugJJxxxg+2TX01Wnyq99D5zBY6U5cjVmjjvi2kdv4fuCBhmOM1wTWh9DRd5Hg9ggwGVsY7VEF1PQrN7M6rQb5Q6hlBIPKnowrspzurHi4qjbXoe3+BvibqNvosuiWT2Fj5tz5qb4f3cYON2FReDwAO3rXl4vLOeTqJ3uGHzGphKcaaV4x+cntbXRd73KcGvrbajK0rsxkXccR7FErDkgc57j9c104WFaNFRqO7MsX7OVbno6a9Vv3t2ucv8AFG8+0+GiA3AYd/TitqkbRN8PUvUseOZCNkCua9j190Tw3jR8gcjvVqo0ZSpJ6GjBr8kYH7rJHfPWtViWcksBF9S0PFMnBMJyOhDUPE33RKy9LZlPXPEN5qcQhc7Igc4z1rGpVcjpoYWNPU//2Q==",width:360,height:270}},261:function(e,t,r){e.exports={srcSet:r.p+"img/698bca5-360.jpg 360w,"+r.p+"img/41c48d5-640.jpg 640w,"+r.p+"img/7bfbd18-768.jpg 768w",images:[{path:r.p+"img/698bca5-360.jpg",width:360,height:270},{path:r.p+"img/41c48d5-640.jpg",width:640,height:480},{path:r.p+"img/7bfbd18-768.jpg",width:768,height:576}],src:r.p+"img/698bca5-360.jpg",toString:function(){return r.p+"img/698bca5-360.jpg"},placeholder:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx4BBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/AABEIAB4AKAMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APn7wlDa31yVntrmZQRzFGXAPYH0zg17yaPPqxmlodxceGbO98+80/RZ0DS4+zpCQqM+SqruOTwD69DWsLd0cPtJRajJu5PoWkxaRfSxX+nPZtJA8TCe2ySGGDgMOuCeaJK69zUt3k/fZPN4d0fym8qz8xjkDKHj3HHpTipPdGjkraMwfFPghbPQzqdozs/mbTCqkt9cY6ds+oNRU5U7GlOpKUuWxyFno862ljcWpa9+0QiVxDBJ+5O5htYlcE/LnIyOamEo9WbS5pN6HrvwQ1GTQ9VluL60At0ZN+V2y5OQNuVOcbgSMjjJqMXHnp+69TCnLkqq63/A948R6PF4y05NVsRaSR2U37lsB0nAxnP17A+nNeThsR7OfN06nZisP7am4rR9Dz630iAlZQkSh2PGCCOmRtz9TjFfSJKUFOMtH/XY8OnVlGXs5LVHCfFhIoNCuGCgMxxxWM17p303eR4dp6DAZWxjsaiKOubOy8JanDBfQvcwJOsbBmib7rgduo4rdNtWRw1adz3zwh8SrzSfCdvo1lorXst0rS20CXI3Ockc5JIAKk4PPp7+LiMJNVW90dVLF01Ts3a3czdV1zVjqZu9YjgsZZG2tEFIO4Rr14OeDw2SOBwOCdcvlV96NvdQsXGnpJfEcV8WbiGbQpPs8paHzPk3n58DgZ969KTvHU5aDd1fc8a4RsgVhex3bk8N40ZyByOhq1UsS4XN2y8ZajbMjBnZ0OVZmJKnpwe1HOuxnKjfR6kk3jGabHmWqBh0ZeDVKrYl0DM1vxBd6nEIW+SIHOM9amdRyNKdJR1P/9k=",width:360,height:270}},320:function(e,t,r){"use strict";r.r(t);r(116),r(118),r(31),r(49);var n=r(190),o=r.n(n),l=r(177),c=(r(45),r(34),r(47),r(46),r(32),r(33),r(35),r(15),r(178)),m=r(317),d=r(203),h={};h.ocean_sim_vertex={vertexShader:["varying vec2 vUV;","void main (void) {","\tvUV = position.xy * 0.5 + 0.5;","\tgl_Position = vec4(position, 1.0 );","}"].join("\n")},h.ocean_subtransform={uniforms:{u_input:{value:null},u_transformSize:{value:512},u_subtransformSize:{value:250}},fragmentShader:["precision highp float;","#include <common>","uniform sampler2D u_input;","uniform float u_transformSize;","uniform float u_subtransformSize;","varying vec2 vUV;","vec2 multiplyComplex (vec2 a, vec2 b) {","\treturn vec2(a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]);","}","void main (void) {","\t#ifdef HORIZONTAL","\tfloat index = vUV.x * u_transformSize - 0.5;","\t#else","\tfloat index = vUV.y * u_transformSize - 0.5;","\t#endif","\tfloat evenIndex = floor(index / u_subtransformSize) * (u_subtransformSize * 0.5) + mod(index, u_subtransformSize * 0.5);","\t#ifdef HORIZONTAL","\tvec4 even = texture2D(u_input, vec2(evenIndex + 0.5, gl_FragCoord.y) / u_transformSize).rgba;","\tvec4 odd = texture2D(u_input, vec2(evenIndex + u_transformSize * 0.5 + 0.5, gl_FragCoord.y) / u_transformSize).rgba;","\t#else","\tvec4 even = texture2D(u_input, vec2(gl_FragCoord.x, evenIndex + 0.5) / u_transformSize).rgba;","\tvec4 odd = texture2D(u_input, vec2(gl_FragCoord.x, evenIndex + u_transformSize * 0.5 + 0.5) / u_transformSize).rgba;","\t#endif","\tfloat twiddleArgument = -2.0 * PI * (index / u_subtransformSize);","\tvec2 twiddle = vec2(cos(twiddleArgument), sin(twiddleArgument));","\tvec2 outputA = even.xy + multiplyComplex(twiddle, odd.xy);","\tvec2 outputB = even.zw + multiplyComplex(twiddle, odd.zw);","\tgl_FragColor = vec4(outputA, outputB);","}"].join("\n")},h.ocean_initial_spectrum={uniforms:{u_wind:{value:new c.Vector2(10,10)},u_resolution:{value:512},u_size:{value:250}},vertexShader:["void main (void) {","\tgl_Position = vec4(position, 1.0);","}"].join("\n"),fragmentShader:["precision highp float;","#include <common>","const float G = 9.81;","const float KM = 370.0;","const float CM = 0.23;","uniform vec2 u_wind;","uniform float u_resolution;","uniform float u_size;","float omega (float k) {","\treturn sqrt(G * k * (1.0 + pow2(k / KM)));","}","#if __VERSION__ == 100","float tanh (float x) {","\treturn (1.0 - exp(-2.0 * x)) / (1.0 + exp(-2.0 * x));","}","#endif","void main (void) {","\tvec2 coordinates = gl_FragCoord.xy - 0.5;","\tfloat n = (coordinates.x < u_resolution * 0.5) ? coordinates.x : coordinates.x - u_resolution;","\tfloat m = (coordinates.y < u_resolution * 0.5) ? coordinates.y : coordinates.y - u_resolution;","\tvec2 K = (2.0 * PI * vec2(n, m)) / u_size;","\tfloat k = length(K);","\tfloat l_wind = length(u_wind);","\tfloat Omega = 0.84;","\tfloat kp = G * pow2(Omega / l_wind);","\tfloat c = omega(k) / k;","\tfloat cp = omega(kp) / kp;","\tfloat Lpm = exp(-1.25 * pow2(kp / k));","\tfloat gamma = 1.7;","\tfloat sigma = 0.08 * (1.0 + 4.0 * pow(Omega, -3.0));","\tfloat Gamma = exp(-pow2(sqrt(k / kp) - 1.0) / 2.0 * pow2(sigma));","\tfloat Jp = pow(gamma, Gamma);","\tfloat Fp = Lpm * Jp * exp(-Omega / sqrt(10.0) * (sqrt(k / kp) - 1.0));","\tfloat alphap = 0.006 * sqrt(Omega);","\tfloat Bl = 0.5 * alphap * cp / c * Fp;","\tfloat z0 = 0.000037 * pow2(l_wind) / G * pow(l_wind / cp, 0.9);","\tfloat uStar = 0.41 * l_wind / log(10.0 / z0);","\tfloat alpham = 0.01 * ((uStar < CM) ? (1.0 + log(uStar / CM)) : (1.0 + 3.0 * log(uStar / CM)));","\tfloat Fm = exp(-0.25 * pow2(k / KM - 1.0));","\tfloat Bh = 0.5 * alpham * CM / c * Fm * Lpm;","\tfloat a0 = log(2.0) / 4.0;","\tfloat am = 0.13 * uStar / CM;","\tfloat Delta = tanh(a0 + 4.0 * pow(c / cp, 2.5) + am * pow(CM / c, 2.5));","\tfloat cosPhi = dot(normalize(u_wind), normalize(K));","\tfloat S = (1.0 / (2.0 * PI)) * pow(k, -4.0) * (Bl + Bh) * (1.0 + Delta * (2.0 * cosPhi * cosPhi - 1.0));","\tfloat dk = 2.0 * PI / u_size;","\tfloat h = sqrt(S / 2.0) * dk;","\tif (K.x == 0.0 && K.y == 0.0) {","\t\th = 0.0;","\t}","\tgl_FragColor = vec4(h, 0.0, 0.0, 0.0);","}"].join("\n")},h.ocean_phase={uniforms:{u_phases:{value:null},u_deltaTime:{value:null},u_resolution:{value:null},u_size:{value:null}},fragmentShader:["precision highp float;","#include <common>","const float G = 9.81;","const float KM = 370.0;","varying vec2 vUV;","uniform sampler2D u_phases;","uniform float u_deltaTime;","uniform float u_resolution;","uniform float u_size;","float omega (float k) {","\treturn sqrt(G * k * (1.0 + k * k / KM * KM));","}","void main (void) {","\tfloat deltaTime = 1.0 / 60.0;","\tvec2 coordinates = gl_FragCoord.xy - 0.5;","\tfloat n = (coordinates.x < u_resolution * 0.5) ? coordinates.x : coordinates.x - u_resolution;","\tfloat m = (coordinates.y < u_resolution * 0.5) ? coordinates.y : coordinates.y - u_resolution;","\tvec2 waveVector = (2.0 * PI * vec2(n, m)) / u_size;","\tfloat phase = texture2D(u_phases, vUV).r;","\tfloat deltaPhase = omega(length(waveVector)) * u_deltaTime;","\tphase = mod(phase + deltaPhase, 2.0 * PI);","\tgl_FragColor = vec4(phase, 0.0, 0.0, 0.0);","}"].join("\n")},h.ocean_spectrum={uniforms:{u_size:{value:null},u_resolution:{value:null},u_choppiness:{value:null},u_phases:{value:null},u_initialSpectrum:{value:null}},fragmentShader:["precision highp float;","#include <common>","const float G = 9.81;","const float KM = 370.0;","varying vec2 vUV;","uniform float u_size;","uniform float u_resolution;","uniform float u_choppiness;","uniform sampler2D u_phases;","uniform sampler2D u_initialSpectrum;","vec2 multiplyComplex (vec2 a, vec2 b) {","\treturn vec2(a[0] * b[0] - a[1] * b[1], a[1] * b[0] + a[0] * b[1]);","}","vec2 multiplyByI (vec2 z) {","\treturn vec2(-z[1], z[0]);","}","float omega (float k) {","\treturn sqrt(G * k * (1.0 + k * k / KM * KM));","}","void main (void) {","\tvec2 coordinates = gl_FragCoord.xy - 0.5;","\tfloat n = (coordinates.x < u_resolution * 0.5) ? coordinates.x : coordinates.x - u_resolution;","\tfloat m = (coordinates.y < u_resolution * 0.5) ? coordinates.y : coordinates.y - u_resolution;","\tvec2 waveVector = (2.0 * PI * vec2(n, m)) / u_size;","\tfloat phase = texture2D(u_phases, vUV).r;","\tvec2 phaseVector = vec2(cos(phase), sin(phase));","\tvec2 h0 = texture2D(u_initialSpectrum, vUV).rg;","\tvec2 h0Star = texture2D(u_initialSpectrum, vec2(1.0 - vUV + 1.0 / u_resolution)).rg;","\th0Star.y *= -1.0;","\tvec2 h = multiplyComplex(h0, phaseVector) + multiplyComplex(h0Star, vec2(phaseVector.x, -phaseVector.y));","\tvec2 hX = -multiplyByI(h * (waveVector.x / length(waveVector))) * u_choppiness;","\tvec2 hZ = -multiplyByI(h * (waveVector.y / length(waveVector))) * u_choppiness;","\tif (waveVector.x == 0.0 && waveVector.y == 0.0) {","\t\th = vec2(0.0);","\t\thX = vec2(0.0);","\t\thZ = vec2(0.0);","\t}","\tgl_FragColor = vec4(hX + multiplyByI(h), hZ);","}"].join("\n")},h.ocean_normals={uniforms:{u_displacementMap:{value:null},u_resolution:{value:null},u_size:{value:null}},fragmentShader:["precision highp float;","varying vec2 vUV;","uniform sampler2D u_displacementMap;","uniform float u_resolution;","uniform float u_size;","void main (void) {","\tfloat texel = 1.0 / u_resolution;","\tfloat texelSize = u_size / u_resolution;","\tvec3 center = texture2D(u_displacementMap, vUV).rgb;","\tvec3 right = vec3(texelSize, 0.0, 0.0) + texture2D(u_displacementMap, vUV + vec2(texel, 0.0)).rgb - center;","\tvec3 left = vec3(-texelSize, 0.0, 0.0) + texture2D(u_displacementMap, vUV + vec2(-texel, 0.0)).rgb - center;","\tvec3 top = vec3(0.0, 0.0, -texelSize) + texture2D(u_displacementMap, vUV + vec2(0.0, -texel)).rgb - center;","\tvec3 bottom = vec3(0.0, 0.0, texelSize) + texture2D(u_displacementMap, vUV + vec2(0.0, texel)).rgb - center;","\tvec3 topRight = cross(right, top);","\tvec3 topLeft = cross(top, left);","\tvec3 bottomLeft = cross(left, bottom);","\tvec3 bottomRight = cross(bottom, right);","\tgl_FragColor = vec4(normalize(topRight + topLeft + bottomLeft + bottomRight), 1.0);","}"].join("\n")},h.ocean_main={uniforms:{u_displacementMap:{value:null},u_normalMap:{value:null},u_geometrySize:{value:null},u_size:{value:null},u_projectionMatrix:{value:null},u_viewMatrix:{value:null},u_cameraPosition:{value:null},u_skyColor:{value:null},u_oceanColor:{value:null},u_sunDirection:{value:null},u_exposure:{value:null}},vertexShader:["precision highp float;","varying vec3 vPos;","varying vec2 vUV;","uniform mat4 u_projectionMatrix;","uniform mat4 u_viewMatrix;","uniform float u_size;","uniform float u_geometrySize;","uniform sampler2D u_displacementMap;","void main (void) {","\tvec3 newPos = position + texture2D(u_displacementMap, uv).rgb * (u_geometrySize / u_size);","\tvPos = newPos;","\tvUV = uv;","\tgl_Position = u_projectionMatrix * u_viewMatrix * vec4(newPos, 1.0);","}"].join("\n"),fragmentShader:["precision highp float;","varying vec3 vPos;","varying vec2 vUV;","uniform sampler2D u_displacementMap;","uniform sampler2D u_normalMap;","uniform vec3 u_cameraPosition;","uniform vec3 u_oceanColor;","uniform vec3 u_skyColor;","uniform vec3 u_sunDirection;","uniform float u_exposure;","vec3 hdr (vec3 color, float exposure) {","\treturn 1.0 - exp(-color * exposure);","}","void main (void) {","\tvec3 normal = texture2D(u_normalMap, vUV).rgb;","\tvec3 view = normalize(u_cameraPosition - vPos);","\tfloat fresnel = 0.02 + 0.98 * pow(1.0 - dot(normal, view), 5.0);","\tvec3 sky = fresnel * u_skyColor;","\tfloat diffuse = clamp(dot(normal, normalize(u_sunDirection)), 0.0, 1.0);","\tvec3 water = (1.0 - fresnel) * u_oceanColor * u_skyColor * diffuse;","\tvec3 color = sky + water;","\tgl_FragColor = vec4(hdr(color, u_exposure), 1.0);","}"].join("\n")};var f=function(e,t,r,n){function o(e,t){return void 0!==e?e:t}this.changed=!0,this.initial=!0,this.oceanCamera=new c.OrthographicCamera,this.oceanCamera.position.z=1,this.renderer=e,this.renderer.clearColor(16777215),this.scene=new c.Scene,n=n||{},this.clearColor=o(n.CLEAR_COLOR,[1,1,1,0]),this.geometryOrigin=o(n.GEOMETRY_ORIGIN,[-1e3,-1e3]),this.sunDirectionX=o(n.SUN_DIRECTION[0],-1),this.sunDirectionY=o(n.SUN_DIRECTION[1],1),this.sunDirectionZ=o(n.SUN_DIRECTION[2],1),this.oceanColor=o(n.OCEAN_COLOR,new c.Vector3(.004,.016,.047)),this.skyColor=o(n.SKY_COLOR,new c.Vector3(3.2,9.6,12.8)),this.exposure=o(n.EXPOSURE,.35),this.geometryResolution=o(n.GEOMETRY_RESOLUTION,32),this.geometrySize=o(n.GEOMETRY_SIZE,2e3),this.resolution=o(n.RESOLUTION,64),this.floatSize=o(n.SIZE_OF_FLOAT,4),this.windX=o(n.INITIAL_WIND[0],10),this.windY=o(n.INITIAL_WIND[1],10),this.size=o(n.INITIAL_SIZE,250),this.choppiness=o(n.INITIAL_CHOPPINESS,1.5),this.matrixNeedsUpdate=!1;var l=o(n.USE_HALF_FLOAT,!1)?c.HalfFloatType:c.FloatType,m={minFilter:c.LinearFilter,magFilter:c.LinearFilter,wrapS:c.ClampToEdgeWrapping,wrapT:c.ClampToEdgeWrapping,format:c.RGBAFormat,stencilBuffer:!1,depthBuffer:!1,premultiplyAlpha:!1,type:l},d={minFilter:c.NearestFilter,magFilter:c.NearestFilter,wrapS:c.ClampToEdgeWrapping,wrapT:c.ClampToEdgeWrapping,format:c.RGBAFormat,stencilBuffer:!1,depthBuffer:!1,premultiplyAlpha:!1,type:l},f={minFilter:c.NearestFilter,magFilter:c.NearestFilter,wrapS:c.RepeatWrapping,wrapT:c.RepeatWrapping,format:c.RGBAFormat,stencilBuffer:!1,depthBuffer:!1,premultiplyAlpha:!1,type:l};this.initialSpectrumFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,f),this.spectrumFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,d),this.pingPhaseFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,d),this.pongPhaseFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,d),this.pingTransformFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,d),this.pongTransformFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,d),this.displacementMapFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,m),this.normalMapFramebuffer=new c.WebGLRenderTarget(this.resolution,this.resolution,m);var v=h.ocean_sim_vertex,w=h.ocean_subtransform,S=c.UniformsUtils.clone(w.uniforms);this.materialOceanHorizontal=new c.ShaderMaterial({uniforms:S,vertexShader:v.vertexShader,fragmentShader:"#define HORIZONTAL \n"+w.fragmentShader}),this.materialOceanHorizontal.uniforms.u_transformSize={value:this.resolution},this.materialOceanHorizontal.uniforms.u_subtransformSize={value:null},this.materialOceanHorizontal.uniforms.u_input={value:null},this.materialOceanHorizontal.depthTest=!1;var _=h.ocean_subtransform,A=c.UniformsUtils.clone(_.uniforms);this.materialOceanVertical=new c.ShaderMaterial({uniforms:A,vertexShader:v.vertexShader,fragmentShader:_.fragmentShader}),this.materialOceanVertical.uniforms.u_transformSize={value:this.resolution},this.materialOceanVertical.uniforms.u_subtransformSize={value:null},this.materialOceanVertical.uniforms.u_input={value:null},this.materialOceanVertical.depthTest=!1;var C=h.ocean_initial_spectrum,y=c.UniformsUtils.clone(C.uniforms);this.materialInitialSpectrum=new c.ShaderMaterial({uniforms:y,vertexShader:C.vertexShader,fragmentShader:C.fragmentShader}),this.materialInitialSpectrum.uniforms.u_wind={value:new c.Vector2},this.materialInitialSpectrum.uniforms.u_resolution={value:this.resolution},this.materialInitialSpectrum.depthTest=!1;var x=h.ocean_phase,M=c.UniformsUtils.clone(x.uniforms);this.materialPhase=new c.ShaderMaterial({uniforms:M,vertexShader:v.vertexShader,fragmentShader:x.fragmentShader}),this.materialPhase.uniforms.u_resolution={value:this.resolution},this.materialPhase.depthTest=!1;var P=h.ocean_spectrum,E=c.UniformsUtils.clone(P.uniforms);this.materialSpectrum=new c.ShaderMaterial({uniforms:E,vertexShader:v.vertexShader,fragmentShader:P.fragmentShader}),this.materialSpectrum.uniforms.u_initialSpectrum={value:null},this.materialSpectrum.uniforms.u_resolution={value:this.resolution},this.materialSpectrum.depthTest=!1;var I=h.ocean_normals,O=c.UniformsUtils.clone(I.uniforms);this.materialNormal=new c.ShaderMaterial({uniforms:O,vertexShader:v.vertexShader,fragmentShader:I.fragmentShader}),this.materialNormal.uniforms.u_displacementMap={value:null},this.materialNormal.uniforms.u_resolution={value:this.resolution},this.materialNormal.depthTest=!1;var B=h.ocean_main,j=c.UniformsUtils.clone(B.uniforms);this.materialOcean=new c.ShaderMaterial({uniforms:j,vertexShader:B.vertexShader,fragmentShader:B.fragmentShader}),this.materialOcean.uniforms.u_geometrySize={value:this.resolution},this.materialOcean.uniforms.u_displacementMap={value:this.displacementMapFramebuffer.texture},this.materialOcean.uniforms.u_normalMap={value:this.normalMapFramebuffer.texture},this.materialOcean.uniforms.u_oceanColor={value:this.oceanColor},this.materialOcean.uniforms.u_skyColor={value:this.skyColor},this.materialOcean.uniforms.u_sunDirection={value:new c.Vector3(this.sunDirectionX,this.sunDirectionY,this.sunDirectionZ)},this.materialOcean.uniforms.u_exposure={value:this.exposure},this.materialOceanHorizontal.blending=0,this.materialOceanVertical.blending=0,this.materialInitialSpectrum.blending=0,this.materialPhase.blending=0,this.materialSpectrum.blending=0,this.materialNormal.blending=0,this.materialOcean.blending=0,this.screenQuad=new c.Mesh(new c.PlaneBufferGeometry(2,2)),this.scene.add(this.screenQuad),this.generateSeedPhaseTexture(),this.generateMesh()};f.prototype.generateMesh=function(){var e=new c.PlaneBufferGeometry(this.geometrySize,this.geometrySize,this.geometryResolution,this.geometryResolution);e.rotateX(-Math.PI/2),this.oceanMesh=new c.Mesh(e,this.materialOcean)},f.prototype.render=function(){var e=this.renderer.getRenderTarget();this.scene.overrideMaterial=null,this.changed&&this.renderInitialSpectrum(),this.renderWavePhase(),this.renderSpectrum(),this.renderSpectrumFFT(),this.renderNormalMap(),this.scene.overrideMaterial=null,this.renderer.setRenderTarget(e)},f.prototype.generateSeedPhaseTexture=function(){this.pingPhase=!0;for(var e=new window.Float32Array(this.resolution*this.resolution*4),i=0;i<this.resolution;i++)for(var t=0;t<this.resolution;t++)e[i*this.resolution*4+4*t]=2*Math.random()*Math.PI,e[i*this.resolution*4+4*t+1]=0,e[i*this.resolution*4+4*t+2]=0,e[i*this.resolution*4+4*t+3]=0;this.pingPhaseTexture=new c.DataTexture(e,this.resolution,this.resolution,c.RGBAFormat),this.pingPhaseTexture.wrapS=c.ClampToEdgeWrapping,this.pingPhaseTexture.wrapT=c.ClampToEdgeWrapping,this.pingPhaseTexture.type=c.FloatType},f.prototype.renderInitialSpectrum=function(){this.scene.overrideMaterial=this.materialInitialSpectrum,this.materialInitialSpectrum.uniforms.u_wind.value.set(this.windX,this.windY),this.materialInitialSpectrum.uniforms.u_size.value=this.size,this.renderer.setRenderTarget(this.initialSpectrumFramebuffer),this.renderer.clear(),this.renderer.render(this.scene,this.oceanCamera)},f.prototype.renderWavePhase=function(){this.scene.overrideMaterial=this.materialPhase,this.screenQuad.material=this.materialPhase,this.initial?(this.materialPhase.uniforms.u_phases.value=this.pingPhaseTexture,this.initial=!1):this.materialPhase.uniforms.u_phases.value=this.pingPhase?this.pingPhaseFramebuffer.texture:this.pongPhaseFramebuffer.texture,this.materialPhase.uniforms.u_deltaTime.value=this.deltaTime,this.materialPhase.uniforms.u_size.value=this.size,this.renderer.setRenderTarget(this.pingPhase?this.pongPhaseFramebuffer:this.pingPhaseFramebuffer),this.renderer.render(this.scene,this.oceanCamera),this.pingPhase=!this.pingPhase},f.prototype.renderSpectrum=function(){this.scene.overrideMaterial=this.materialSpectrum,this.materialSpectrum.uniforms.u_initialSpectrum.value=this.initialSpectrumFramebuffer.texture,this.materialSpectrum.uniforms.u_phases.value=this.pingPhase?this.pingPhaseFramebuffer.texture:this.pongPhaseFramebuffer.texture,this.materialSpectrum.uniforms.u_choppiness.value=this.choppiness,this.materialSpectrum.uniforms.u_size.value=this.size,this.renderer.setRenderTarget(this.spectrumFramebuffer),this.renderer.render(this.scene,this.oceanCamera)},f.prototype.renderSpectrumFFT=function(){var e=Math.log(this.resolution)/Math.log(2);this.scene.overrideMaterial=this.materialOceanHorizontal;for(var i=0;i<e;i++)0===i?(this.materialOceanHorizontal.uniforms.u_input.value=this.spectrumFramebuffer.texture,this.materialOceanHorizontal.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.pingTransformFramebuffer),this.renderer.render(this.scene,this.oceanCamera)):i%2==1?(this.materialOceanHorizontal.uniforms.u_input.value=this.pingTransformFramebuffer.texture,this.materialOceanHorizontal.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.pongTransformFramebuffer),this.renderer.render(this.scene,this.oceanCamera)):(this.materialOceanHorizontal.uniforms.u_input.value=this.pongTransformFramebuffer.texture,this.materialOceanHorizontal.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.pingTransformFramebuffer),this.renderer.render(this.scene,this.oceanCamera));this.scene.overrideMaterial=this.materialOceanVertical;for(i=e;i<2*e;i++)i===2*e-1?(this.materialOceanVertical.uniforms.u_input.value=e%2==0?this.pingTransformFramebuffer.texture:this.pongTransformFramebuffer.texture,this.materialOceanVertical.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.displacementMapFramebuffer),this.renderer.render(this.scene,this.oceanCamera)):i%2==1?(this.materialOceanVertical.uniforms.u_input.value=this.pingTransformFramebuffer.texture,this.materialOceanVertical.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.pongTransformFramebuffer),this.renderer.render(this.scene,this.oceanCamera)):(this.materialOceanVertical.uniforms.u_input.value=this.pongTransformFramebuffer.texture,this.materialOceanVertical.uniforms.u_subtransformSize.value=Math.pow(2,i%e+1),this.renderer.setRenderTarget(this.pingTransformFramebuffer),this.renderer.render(this.scene,this.oceanCamera))},f.prototype.renderNormalMap=function(){this.scene.overrideMaterial=this.materialNormal,this.changed&&(this.materialNormal.uniforms.u_size.value=this.size),this.materialNormal.uniforms.u_displacementMap.value=this.displacementMapFramebuffer.texture,this.renderer.setRenderTarget(this.normalMapFramebuffer),this.renderer.clear(),this.renderer.render(this.scene,this.oceanCamera)};var v=r(254);function w(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var _={props:{diveSites:{type:Array,default:function(){return[]}}},data:function(){return{container:null,controls:null,camera:null,renderer:null}},mounted:function(){var e,t,r=this,n=new c.Raycaster,o=new c.Vector2,l=new c.Group;this.container=document.getElementById("ilha-container"),this.camera=new c.PerspectiveCamera(75,this.container.clientWidth/this.container.clientHeight,1,2e4),this.camera.position.set(0,1e3,100),this.camera.lookAt(0,0,0);var h=new c.Scene;h.background=new c.Color(4635884),this.renderer=new c.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.controls=new d.a(this.camera,this.container),this.controls.rotateSpeed=2,this.controls.zoomSpeed=1.2,this.controls.panSpeed=.8,this.controls.noPan=!1,this.controls.staticMoving=!1,this.controls.dynamicDampingFactor=.3,this.controls.keys=[65,83,68],this.controls.maxDistance=100,this.controls.maxDistance=5e3,this.controls.maxPolarAngle=Math.PI/2-Math.PI/20;var S=new c.AmbientLight(13421772,.4);h.add(S);var _=new c.DirectionalLight(16777215,.8);_.position.set(1,1,0).normalize(),h.add(_);var A,C,y,x=new c.LoadingManager((function(){h.add(e)})),M=new c.MeshLambertMaterial({color:30719,side:2,shading:c.FlatShading}),P=new c.MeshLambertMaterial({color:16711680,side:2,shading:c.FlatShading}),E={},I=w(this.diveSites);try{for(I.s();!(A=I.n()).done;){var O=A.value,B=new c.TorusGeometry(20,10,16,100),j=new c.Mesh(B,M),N=(C=O.lat,y=O.long,[7e3*(-24.26333333-C)/.09000000000000341-4500,7e3*(-46.15-y)/(-46.15- -46.2)-4500]);j.position.set(N[0],20,N[1]),j.userData=O,E[O.name]=j;var k=new v.SpriteText2D(O.name,{align:v.textAlign.center,font:"40px Arial",fillStyle:"#FFFFFF",antialias:!0,shadowColor:"#333333",shadowOffsetX:2,shadowOffsetY:2});k.position.set(N[0],60,N[1]),k.sprite.userData=k.userData=O,k.material.depthWrite=!1,l.add(j,k)}}catch(e){I.e(e)}finally{I.f()}h.add(l),new m.a(x).load("./PEMLSdae/PEMLS_skt.dae",(function(t){(e=t.scene).position.set(220,0,-100);e.rotateZ(80/180*Math.PI)}));var F=new f(this.renderer,this.camera,h,{USE_HALF_FLOAT:!1,INITIAL_SIZE:2048,INITIAL_WIND:[4,4],INITIAL_CHOPPINESS:.3,CLEAR_COLOR:[1,1,1,0],GEOMETRY_ORIGIN:[-4096,-4096],SUN_DIRECTION:[-1,1,1],OCEAN_COLOR:new c.Vector3(.004,.016,.047),SKY_COLOR:new c.Vector3(3.2,9.6,12.8),EXPOSURE:.35,GEOMETRY_RESOLUTION:512,GEOMETRY_SIZE:8192,RESOLUTION:1024});F.materialOcean.uniforms.u_projectionMatrix={value:this.camera.projectionMatrix},F.materialOcean.uniforms.u_viewMatrix={value:this.camera.matrixWorldInverse},F.materialOcean.uniforms.u_cameraPosition={value:this.camera.position},F.oceanMesh.scale.set(2,2,2),h.add(F.oceanMesh);this.$on("picker",(function(e){for(var t in E)E[t].material=M;E[r.diveSites[e].name].material=P}));!function animate(){if(r&&r.renderer){requestAnimationFrame(animate);var e=(new Date).getTime();F.deltaTime=(e-t)/1e3||0,t=e,F.render(.02*F.deltaTime),F.overrideMaterial=F.materialOcean,F.changed&&(F.materialOcean.uniforms.u_size.value=F.size,F.materialOcean.uniforms.u_sunDirection.value.set(F.sunDirectionX,F.sunDirectionY,F.sunDirectionZ),F.materialOcean.uniforms.u_exposure.value=F.exposure,F.changed=!1),F.materialOcean.uniforms.u_normalMap.value=F.normalMapFramebuffer.texture,F.materialOcean.uniforms.u_displacementMap.value=F.displacementMapFramebuffer.texture,F.materialOcean.uniforms.u_projectionMatrix.value=r.camera.projectionMatrix,F.materialOcean.uniforms.u_viewMatrix.value=r.camera.matrixWorldInverse,F.materialOcean.uniforms.u_cameraPosition.value=r.camera.position,F.materialOcean.depthTest=!0,r.controls.update(),r.renderer.render(h,r.camera)}}(),window.addEventListener("resize",this.onWindowResize,!1),this.renderer.domElement.addEventListener("mousedown",(function(e){var rect=r.renderer.domElement.getBoundingClientRect();o.x=(event.clientX-rect.left)/(rect.right-rect.left)*2-1,o.y=-(event.clientY-rect.top)/(rect.bottom-rect.top)*2+1,n.setFromCamera(o,r.camera);var t=n.intersectObject(l,!0);if(t.length>0){var object=t[0].object;for(var c in E)E[c].material=M;E[object.userData.name].material=P,r.$emit("pick",object.userData.name)}})),this.container.appendChild(this.renderer.domElement)},beforeDestroy:function(){this.$off("picker"),window.removeEventListener("resize",this.onWindowResize),this.renderer.forceContextLoss(),this.renderer.domElement=null,this.renderer=null},methods:{onWindowResize:function(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}}},A=(r(258),r(3)),C=Object(A.a)(_,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"ilha-container"}})}),[],!1,null,"01faa0a2",null).exports,y=r(218),x=r(196),M=r(260),P=r(261),E={components:{GalleryCard:y.a,Ilha3D:C},extends:l.default,data:function(){return{imagePontosAppleDesk:M,imagePontosAppleMobile:P,gallery:x.a,selectedSite:-1,swapping:!1,showBottomSheet:!1,isApple:!1,isSafari:!1,isIos:!1,diveSites:[{name:"Portinho",lat:-24.318083,long:-46.183444,dificuldade:"⭑✩ Baixo grau de dificuldade.",description:"A face norte é o local onde ocorre a maioria dos mergulhos, com profundidade de até 22m, mais abrigado das correntes e de fácil orientação."},{name:"Moréia",lat:-24.317056,long:-46.182083,dificuldade:"⭑✩ Baixo grau de dificuldade.",description:"Naufrágio do Moréia, um pesqueiro de ferro com 15m de comprimento. Na face norte, próximo à ponta leste, com estrutura em estado instável, desaconselhando penetração, profundidade máxima de 22m."},{name:"Piscinas",lat:-24.321667,long:-46.184306,dificuldade:"⭑⭑✩✩ Médio grau de dificuldade.",description:"Na ponta oeste/sudoeste da Laje, ambiente com profundidade que varia de 10 a 35m e requer boa noção de orientação subaquática."},{name:"Boca da Baleia",lat:-24.316778,long:-46.179083,dificuldade:"✩✩✩ Alto grau de dificuldade",description:"Fenda voltada para leste, com cerca de 50m de extensão e profundidade média de 15m. Requer excelente condição de mar e direção de ondulação adequada para que se possa adentrar."},{name:"Paredão Face Sul",lat:-24.320333,long:-46.180194,dificuldade:"⭑⭑✩✩ Médio grau de dificuldade.",description:'Encosta rochosa íngreme que desce verticalmente até 42m de profundidade. Mergulhos feitos em "drifting" a favor da corrente. Formação com inclinação negativa entre 12 e 27m de profundidade do centro para leste.'},{name:"Parcel das Âncoras",lat:-24.321833,long:-46.184972,dificuldade:"✩✩✩ Alto grau de dificuldade.",description:"Fundo rochoso que se destaca da Laje em direção ao continente, apresenta estrutura complexa, exigindo boa orientação subaquática. Profundidade entre 18 e 42m. Presença de muitas âncoras de pesqueiros que ficaram presas ao fundo rochoso. Sujeito a correntes."},{name:"Parcel do Sul",lat:-24.326917,long:-46.183722,dificuldade:"⭑⭑✩✩ Médio grau de dificuldade.",description:"Formação submersa a cerca de 400m a sudoeste da Laje, inicia aos 8m e segue até os 42m. Requer mar em boas condições, mas a formação permite orientação e deslocamento mais simples."},{name:"Calhaus Face Norte",lat:-24.327167,long:-46.161667,dificuldade:"⭑✩ Baixo a ⭑⭑✩✩ Médio grau de dificuldade.",description:"Paredão levemente acidentado, com características de navegação subaquática semelhantes ao portinho da Laje, com profundidades que podem variar de 8 a 25m, passando a até 35m se houver afastamento das rochas na direção norte (sentido Laje)."},{name:"Calhaus Face Sul",lat:-24.32825,long:-46.159278,dificuldade:"⭑⭑✩✩✩ Alto grau de dificuldade.",description:"Paredão levemente acidentado com incidência de correntes e profundidades que podem variar de 8 a 40m."},{name:"Calhaus Túnel",lat:-24.328,long:-46.160722,dificuldade:"⭑✩ Baixo grau de dificuldade.",description:"Passagem em forma de ”U” e um arco central emerso, com grande apelo visual e profundidade máxima de 18m, porém exige bom equilíbrio hidrostático por parte do mergulhador. Sujeito a boas condições de mar."},{name:"Parcel Novo",lat:-24.345472,long:-46.173972,dificuldade:"⭑⭑⭑✩✩✩ Alto grau de dificuldade.",description:"Formação submersa localizada cerca de 1,5 milhas náuticas ao sul da Laje que inicia aos 26m de profundidade e chega aos 45m. Exige mar em excelentes condições e preparo adequado dos mergulhadores."},{name:"Parcel do Brilhante",lat:-24.28888889,long:-46.16388889,dificuldade:"-",description:"Não há atividade turística. Área de preservação."},{name:"Laje do Bandolim",lat:-24.27666667,long:-46.18194444,dificuldade:"-",description:"Não há atividade turística. Área de preservação."}]}},computed:{filteredGallery:function(){if(-1===this.selectedSite)return[];function e(e){return(e=(e=(e=(e=(e=e.replace(/[ÀÁÂÃÄÅ]/,"A")).replace(/[àáâãäå]/,"a")).replace(/[ÈÉÊË]/,"E")).replace(/[Ç]/,"C")).replace(/[ç]/,"c")).replace(/[^a-z0-9]/gi,"")}var t=this.diveSites[this.selectedSite].name,r=t?new RegExp(e(t),"i"):null;return this.gallery.filter((function(i){return!(!r||!i.description||-1===e(i.description).search(r))||!(!r||!i.name||-1===e(i.name).search(r))}),this)},selectedSiteData:function(){return-1===this.selectedSite?{}:this.diveSites[this.selectedSite]}},mounted:function(){this.head.title=this.$gettext("Projeto Laje de Santos Virtual"),this.head.description=this.$gettext("Sobre o projeto Laje de Santos Virtual");var e=o.a.getParser(window.navigator.userAgent),t=e.getOSName(!0);this.isIos="ios"===t,this.isSafari=e.satisfies({macos:{safari:">10.1"}}),this.isApple=this.isIos||this.isSafari},methods:{selectSite:function(e){this.$refs.ilha3d&&this.$refs.ilha3d.$emit("picker",e),this.pick(this.diveSites[e])},pick:function(e){var t=this;this.swapping=!this.swapping;for(var r=function(i){if(t.diveSites[i].name===e)return t.$nextTick((function(){t.selectedSite=i,t.swapping=!0})),"break"},i=0;i<this.diveSites.length;i++){if("break"===r(i))break}}}},I=Object(A.a)(E,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"dive-container"},[r("aside",{class:{"dive-aside":!0,"dive-aside-showBottomSheet":e.showBottomSheet}},[r("section",{staticClass:"dive-point-info"},[r("div",{staticClass:"dive-swipe-show",on:{click:function(t){e.showBottomSheet=!e.showBottomSheet}}},[r("span",{staticClass:"indicador-swipe"})]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:-1==e.selectedSite,expression:"selectedSite == -1"}]},[r("h1",{staticClass:"dive-point-title"},[r("i18n",[e._v("\n            Pontos de Mergulho na Laje de Santos\n          ")])],1),e._v(" "),r("p",[r("i18n",[e._v("\n            Clique em um ponto de mergulho para ter mais informações.\n          ")])],1),e._v(" "),r("p",[r("i18n",[e._v("\n            A Laje de Santos é um local popular para a prática do mergulho. Próxima da cidade de São Paulo, a 1h30m de barco da costa e\n            com uma diversidade de espécies que poucos lugares são capazes de igualar, raramente com menos de 10 metros de visibilidade.\n            Selecione um local para ter mais informações.\n          ")])],1),e._v(" "),r("p",[r("i18n",[e._v("Fontes das informações:")]),e._v(" "),r("a",{attrs:{target:"_blank",href:"https://www.lajeviva.org.br/Lajeviva/parque/pontos-de-mergulho/"}},[e._v("Instituto Laje Viva")]),e._v(",\n          "),r("a",{attrs:{target:"_blank",href:"http://arquivos.ambiente.sp.gov.br/fundacaoflorestal/2014/04/Plano-Emergencial-de-Uso-P%C3%BAblico_PEMLS_versaoFinal.pdf"}},[e._v("Plano Emergencial de Uso Público do PEMLS")]),e._v(" "),r("a",{attrs:{target:"_blank",href:"https://smastr16.blob.core.windows.net/consema/2018/11/e-laje-de-santos-plano-de-manejo.pdf"}},[e._v("Plano de Manejo da Laje de Santos")])],1)]),e._v(" "),r("transition",{attrs:{name:"fade-in-up"}},[e.swapping?r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.selectedSite,expression:"selectedSite != -1"}]},[r("h2",[e._v("\n              "+e._s(e.selectedSiteData.name)+"\n            ")]),e._v(" "),r("div",[r("p",{staticClass:"dive-dificuldade"},[e._v("\n                "+e._s(e.selectedSiteData.dificuldade)+"\n              ")]),e._v(" "),r("p",{staticClass:"dive-coordinates"},[r("font-awesome-icon",{attrs:{icon:"arrows-alt-v"}}),e._v("\n                Latitude: "+e._s(e.selectedSiteData.lat)+" "),r("br"),e._v(" "),r("font-awesome-icon",{attrs:{icon:"arrows-alt-h"}}),e._v(" Longitude: "+e._s(e.selectedSiteData.long)+"\n              ")],1),e._v(" "),r("p",[r("span",{staticClass:"dive-description"},[e._v(e._s(e.selectedSiteData.description))])])]),e._v(" "),r("div",{staticClass:"galeria-pontos"},e._l(e.filteredGallery,(function(a,i){return r("GalleryCard",{key:i,attrs:{creator:a.creator,creatorLink:a.creatorLink,license:a.license,url:a.url,absoluteurl:a.absoluteurl,description:a.description,type:a.type}})})),1)])]):e._e()])],1)]),e._v(" "),r("section",{class:{"dive-3d":!0,"dive-3d-apple":e.isApple}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSite,expression:"selectedSite"}],staticClass:"dive-point-selector",on:{input:function(t){e.swapping=!1,e.selectSite(t.target.value)},change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedSite=t.target.multiple?r:r[0]}}},e._l(e.diveSites,(function(t,i){return r("option",{key:t.name,domProps:{value:i}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),0),e._v(" "),e.isApple?r("section",{staticClass:"pontos-apple"},[r("img",{staticClass:"pontos-apple-desktop",attrs:{src:e.imagePontosAppleDesk,srcset:e.imagePontosAppleDesk.srcSet,alt:"Gráfico da Laje com Pontos de Mergulho"}}),e._v(" "),r("img",{staticClass:"pontos-apple-mobile",attrs:{src:e.imagePontosAppleMobile,srcset:e.imagePontosAppleMobile.srcSet,alt:"Gráfico da Laje com Pontos de Mergulho"}})]):r("Ilha3D",{ref:"ilha3d",attrs:{"dive-sites":e.diveSites},on:{pick:e.pick}})],1)])}),[],!1,null,null,null);t.default=I.exports}}]);